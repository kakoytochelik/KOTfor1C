# Блок: Diagnostics and Quick Fix

## Задача блока

Показывать ошибки и предупреждения прямо в редакторе, с возможностью исправлять их одним действием.

## Проверки

### Ошибки

- Неизвестный шаг Gherkin.
- Неизвестный вызов вложенного сценария.
- Незакрытые блоки `If...EndIf` и `Do...EndDo`.
- Незакрытые кавычки в строке.
- Лишние параметры у вызова сценария.

### Предупреждения

- Недостающие параметры у вызова сценария.
- Неполные секции `ВложенныеСценарии` и `ПараметрыСценария`.
- Дубли значения `ДанныеСценария.Код` в разных сценариях.
- Вероятно пропущенные кавычки в аргументах шага/вызова.

## Quick Fix

- `Replace with ...` для неизвестных шагов/вызовов.
- `Maybe you meant` с набором релевантных вариантов.
- Добавление недостающих параметров вызова:
  - сразу всех;
  - по одному.

## Режимы диагностики

1. Локальный: активный файл.
2. Связанные родительские сценарии: по цепочке вызовов вверх.
3. Глобальный scan по команде: `KOT - Scan workspace diagnostics` (`KOT - Выполнить сканирование диагностики по проекту`). Экспериментальная функция, не рекомендуется выполнять на больших проектах.

## Настройки блока

| Настройка | Назначение |
|---|---|
| `kotTestToolkit.editor.checkRelatedParentScenarios` | Включает/выключает проверку связанных родительских сценариев |
| `kotTestToolkit.output.advancedLogging` | Более подробный лог диагностических операций |
